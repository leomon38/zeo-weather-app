import React, { Component } from 'react';
import { render } from '@testing-library/react';
import { Provider } from 'react-redux';
import thunk from 'redux-thunk'
import renderer from 'react-test-renderer';
import App from '../App';


/** Enzyme imports*/
import { configure, shallow, mount } from 'enzyme'
import Adapter from 'enzyme-adapter-react-16.3'
import configureStore from 'redux-mock-store'
configure({adapter: new Adapter()});

const mockStore = configureStore([thunk]);
const test_state = {"loading": false,"city":"Boston","data":[{"number":1,"name":"Tonight","startTime":"2020-11-23T22:00:00-05:00","endTime":"2020-11-24T06:00:00-05:00","isDaytime":false,"temperature":32,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"14 to 18 mph","windDirection":"NW","icon":"https://api.weather.gov/icons/land/night/few?size=medium","shortForecast":"Mostly Clear","detailedForecast":"Mostly clear, with a low around 32. Northwest wind 14 to 18 mph, with gusts as high as 33 mph."},{"number":2,"name":"Tuesday","startTime":"2020-11-24T06:00:00-05:00","endTime":"2020-11-24T18:00:00-05:00","isDaytime":true,"temperature":42,"temperatureUnit":"F","temperatureTrend":"falling","windSpeed":"9 to 14 mph","windDirection":"NW","icon":"https://api.weather.gov/icons/land/day/skc?size=medium","shortForecast":"Sunny","detailedForecast":"Sunny. High near 42, with temperatures falling to around 35 in the afternoon. Northwest wind 9 to 14 mph, with gusts as high as 24 mph."},{"number":3,"name":"Tuesday Night","startTime":"2020-11-24T18:00:00-05:00","endTime":"2020-11-25T06:00:00-05:00","isDaytime":false,"temperature":27,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"2 to 8 mph","windDirection":"NW","icon":"https://api.weather.gov/icons/land/night/sct?size=medium","shortForecast":"Partly Cloudy","detailedForecast":"Partly cloudy, with a low around 27. Northwest wind 2 to 8 mph."},{"number":4,"name":"Wednesday","startTime":"2020-11-25T06:00:00-05:00","endTime":"2020-11-25T18:00:00-05:00","isDaytime":true,"temperature":46,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"2 to 7 mph","windDirection":"SW","icon":"https://api.weather.gov/icons/land/day/bkn?size=medium","shortForecast":"Mostly Cloudy","detailedForecast":"Mostly cloudy, with a high near 46. Southwest wind 2 to 7 mph."},{"number":5,"name":"Wednesday Night","startTime":"2020-11-25T18:00:00-05:00","endTime":"2020-11-26T06:00:00-05:00","isDaytime":false,"temperature":43,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 mph","windDirection":"SW","icon":"https://api.weather.gov/icons/land/night/rain_showers,20/rain_showers,50?size=medium","shortForecast":"Chance Rain Showers","detailedForecast":"A chance of rain showers after 10pm. Mostly cloudy, with a low around 43. Southwest wind around 6 mph. Chance of precipitation is 50%."},{"number":6,"name":"Thanksgiving Day","startTime":"2020-11-26T06:00:00-05:00","endTime":"2020-11-26T18:00:00-05:00","isDaytime":true,"temperature":54,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"7 mph","windDirection":"SE","icon":"https://api.weather.gov/icons/land/day/rain_showers,80?size=medium","shortForecast":"Rain Showers","detailedForecast":"Rain showers. Cloudy, with a high near 54. Southeast wind around 7 mph. Chance of precipitation is 80%."},{"number":7,"name":"Thursday Night","startTime":"2020-11-26T18:00:00-05:00","endTime":"2020-11-27T06:00:00-05:00","isDaytime":false,"temperature":45,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"5 mph","windDirection":"N","icon":"https://api.weather.gov/icons/land/night/rain_showers,60/rain_showers?size=medium","shortForecast":"Rain Showers Likely","detailedForecast":"Rain showers likely before 3am. Mostly cloudy, with a low around 45. North wind around 5 mph. Chance of precipitation is 60%."},{"number":8,"name":"Friday","startTime":"2020-11-27T06:00:00-05:00","endTime":"2020-11-27T18:00:00-05:00","isDaytime":true,"temperature":56,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 mph","windDirection":"NW","icon":"https://api.weather.gov/icons/land/day/bkn?size=medium","shortForecast":"Partly Sunny","detailedForecast":"Partly sunny, with a high near 56. Northwest wind around 6 mph."},{"number":9,"name":"Friday Night","startTime":"2020-11-27T18:00:00-05:00","endTime":"2020-11-28T06:00:00-05:00","isDaytime":false,"temperature":43,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 mph","windDirection":"W","icon":"https://api.weather.gov/icons/land/night/bkn?size=medium","shortForecast":"Mostly Cloudy","detailedForecast":"Mostly cloudy, with a low around 43. West wind around 6 mph."},{"number":10,"name":"Saturday","startTime":"2020-11-28T06:00:00-05:00","endTime":"2020-11-28T18:00:00-05:00","isDaytime":true,"temperature":54,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 to 9 mph","windDirection":"W","icon":"https://api.weather.gov/icons/land/day/bkn/rain_showers?size=medium","shortForecast":"Partly Sunny then Slight Chance Rain Showers","detailedForecast":"A slight chance of rain showers between 1pm and 3pm. Partly sunny, with a high near 54. West wind 6 to 9 mph."},{"number":11,"name":"Saturday Night","startTime":"2020-11-28T18:00:00-05:00","endTime":"2020-11-29T06:00:00-05:00","isDaytime":false,"temperature":37,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"7 mph","windDirection":"NW","icon":"https://api.weather.gov/icons/land/night/sct?size=medium","shortForecast":"Partly Cloudy","detailedForecast":"Partly cloudy, with a low around 37. Northwest wind around 7 mph."},{"number":12,"name":"Sunday","startTime":"2020-11-29T06:00:00-05:00","endTime":"2020-11-29T18:00:00-05:00","isDaytime":true,"temperature":49,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 mph","windDirection":"W","icon":"https://api.weather.gov/icons/land/day/few?size=medium","shortForecast":"Sunny","detailedForecast":"Sunny, with a high near 49. West wind around 6 mph."},{"number":13,"name":"Sunday Night","startTime":"2020-11-29T18:00:00-05:00","endTime":"2020-11-30T06:00:00-05:00","isDaytime":false,"temperature":37,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"6 mph","windDirection":"S","icon":"https://api.weather.gov/icons/land/night/rain_showers/rain_showers,40?size=medium","shortForecast":"Chance Rain Showers","detailedForecast":"A chance of rain showers after 11pm. Partly cloudy, with a low around 37. South wind around 6 mph. Chance of precipitation is 40%."},{"number":14,"name":"Monday","startTime":"2020-11-30T06:00:00-05:00","endTime":"2020-11-30T18:00:00-05:00","isDaytime":true,"temperature":53,"temperatureUnit":"F","temperatureTrend":null,"windSpeed":"7 to 12 mph","windDirection":"S","icon":"https://api.weather.gov/icons/land/day/rain_showers,50?size=medium","shortForecast":"Chance Rain Showers","detailedForecast":"A chance of rain showers. Mostly cloudy, with a high near 53. South wind 7 to 12 mph. Chance of precipitation is 50%."}]};

describe('App Testing', () => {

  let store = mockStore(test_state);
  let component;

  beforeEach(() => {
    component = renderer.create(
      <Provider store={store}>
        <App />
      </Provider>
  )});

  test("rendering button text", () => {
    const { getByText } = render(<App />);
    const buttonElement = getByText("Show Me The Future");
    expect(buttonElement).toBeInTheDocument();
  });

});